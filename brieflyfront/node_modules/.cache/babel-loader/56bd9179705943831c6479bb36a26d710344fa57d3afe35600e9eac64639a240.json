{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import axios from'axios';import'./App.css';import ProgressBar from'progressbar.js';// Assuming you have progressbar.js installed\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[selectedFile,setSelectedFile]=useState(null);const[loading,setLoading]=useState(false);const progressRef=useRef(null);// Reference for the progress bar element\nuseEffect(()=>{// Initialize the progress bar when the component mounts\nprogressRef.current=new ProgressBar.Circle('#progress-bar',{// Progress bar configuration options (adjust as needed)\ncolor:'#aaa',strokeWidth:4,trailWidth:1,easing:'easeInOut',duration:1400,text:{autoStyleContainer:false},from:{color:'#aaa',width:1},to:{color:'#333',width:4},step:function(state,circle){circle.path.setAttribute('stroke',state.color);circle.path.setAttribute('stroke-width',state.width);const value=Math.round(circle.value()*100);if(value===0){circle.setText('');}else{circle.setText(value);}}});},[]);// Run this effect only once, when the component mounts\nconst handleFileChange=event=>{setSelectedFile(event.target.files[0]);};const handleUpload=()=>{if(!selectedFile){alert('Please select a file first.');return;}setLoading(true);const formData=new FormData();formData.append('file',selectedFile);const config={onUploadProgress:progressEvent=>{const uploadProgress=Math.round(progressEvent.loaded*100/progressEvent.total);console.log('Upload progress:',uploadProgress);progressRef.current.animate(uploadProgress/100);// Update progress bar based on upload progress\n}};axios.post('http://localhost:5000/upload',formData,config).then(response=>{setLoading(false);progressRef.current.animate(1.0);// Animate to 100% on successful upload\nconsole.log('Upload successful:',response.data);// Redirect to summary page with the summary data\nwindow.location.href=\"/summary?summary=\".concat(response.data.summary);}).catch(error=>{console.error('Error:',error);setLoading(false);alert('File upload failed!');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Briefly AI\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Effortlessly Summarize\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"fileInput\",className:\"file-input\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fileInput\",className:\"button\",children:\"Choose File\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleUpload,disabled:!selectedFile,children:\"Upload File\"})]}),selectedFile&&/*#__PURE__*/_jsxs(\"p\",{className:\"filename\",children:[\"Selected File: \",selectedFile.name]}),loading&&/*#__PURE__*/_jsx(\"div\",{id:\"progress-bar\",className:\"loading-bar\"})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","ProgressBar","jsx","_jsx","jsxs","_jsxs","App","selectedFile","setSelectedFile","loading","setLoading","progressRef","current","Circle","color","strokeWidth","trailWidth","easing","duration","text","autoStyleContainer","from","width","to","step","state","circle","path","setAttribute","value","Math","round","setText","handleFileChange","event","target","files","handleUpload","alert","formData","FormData","append","config","onUploadProgress","progressEvent","uploadProgress","loaded","total","console","log","animate","post","then","response","data","window","location","href","concat","summary","catch","error","className","children","type","id","onChange","htmlFor","onClick","disabled","name"],"sources":["C:/Users/momos/Desktop/BrieflyAI/brieflyfront/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport ProgressBar from 'progressbar.js'; // Assuming you have progressbar.js installed\n\nfunction App() {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const progressRef = useRef(null); // Reference for the progress bar element\n\n  useEffect(() => {\n    // Initialize the progress bar when the component mounts\n    progressRef.current = new ProgressBar.Circle('#progress-bar', {\n      // Progress bar configuration options (adjust as needed)\n      color: '#aaa',\n      strokeWidth: 4,\n      trailWidth: 1,\n      easing: 'easeInOut',\n      duration: 1400,\n      text: {\n        autoStyleContainer: false,\n      },\n      from: { color: '#aaa', width: 1 },\n      to: { color: '#333', width: 4 },\n      step: function (state, circle) {\n        circle.path.setAttribute('stroke', state.color);\n        circle.path.setAttribute('stroke-width', state.width);\n\n        const value = Math.round(circle.value() * 100);\n        if (value === 0) {\n          circle.setText('');\n        } else {\n          circle.setText(value);\n        }\n      },\n    });\n  }, []); // Run this effect only once, when the component mounts\n\n  const handleFileChange = (event) => {\n    setSelectedFile(event.target.files[0]);\n  };\n\n  const handleUpload = () => {\n    if (!selectedFile) {\n      alert('Please select a file first.');\n      return;\n    }\n\n    setLoading(true);\n\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n\n    const config = {\n      onUploadProgress: (progressEvent) => {\n        const uploadProgress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n        console.log('Upload progress:', uploadProgress);\n        progressRef.current.animate(uploadProgress / 100); // Update progress bar based on upload progress\n      },\n    };\n\n    axios.post('http://localhost:5000/upload', formData, config)\n      .then(response => {\n        setLoading(false);\n        progressRef.current.animate(1.0); // Animate to 100% on successful upload\n        console.log('Upload successful:', response.data);\n        // Redirect to summary page with the summary data\n        window.location.href = `/summary?summary=${response.data.summary}`;\n      })\n      .catch(error => {\n        console.error('Error:', error);\n        setLoading(false);\n        alert('File upload failed!');\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Briefly AI</h1>\n        <p>Effortlessly Summarize</p>\n      </header>\n      <div className=\"button-container\">\n        <input\n          type=\"file\"\n          id=\"fileInput\"\n          className=\"file-input\"\n          onChange={handleFileChange}\n        />\n        <label htmlFor=\"fileInput\" className=\"button\">Choose File</label>\n        <button className=\"button\" onClick={handleUpload} disabled={!selectedFile}>\n          Upload File\n        </button>\n      </div>\n      {selectedFile && (\n        <p className=\"filename\">Selected File: {selectedFile.name}</p>\n      )}\n      {loading && (\n        <div id=\"progress-bar\" className=\"loading-bar\"></div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}