{"ast":null,"code":"import React,{useState,useRef}from'react';import axios from'axios';import'./App.css';import ProgressBar from'progressbar.js';// Assuming you have progressbar.js installed\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[selectedFile,setSelectedFile]=useState(null);const[loading,setLoading]=useState(false);const progressRef=useRef(null);// Reference for the progress bar element\nconst handleFileChange=event=>{setSelectedFile(event.target.files[0]);};const handleUpload=async()=>{if(!selectedFile){alert('Please select a file first.');return;}setLoading(true);const formData=new FormData();formData.append('file',selectedFile);try{const progress=new ProgressBar(progressRef.current,{// Progress bar configuration options (adjust as needed)\ncolor:'#aaa',strokeWidth:4,trailWidth:1,easing:'easeInOut',duration:1400,text:{autoStyleContainer:false},from:{color:'#aaa',width:1},to:{color:'#333',width:4},step:function(state,circle){circle.path.setAttribute('stroke',state.color);circle.path.setAttribute('stroke-width',state.width);const value=Math.round(circle.value()*100);if(value===0){circle.setText('');}else{circle.setText(value);}}});const response=await axios.post('http://localhost:5000/upload',formData,{onUploadProgress:progressEvent=>{const uploadProgress=Math.round(progressEvent.loaded*100/progressEvent.total);progress.animate(uploadProgress/100);// Update progress bar based on upload progress\n}});setLoading(false);progress.animate(1.0);// Animate to 100% on successful upload\n// Redirect to summary page with the summary data\nwindow.location.href=\"/summary?summary=\".concat(response.data.summary);}catch(error){console.error('Error:',error);setLoading(false);alert('File upload failed!');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Briefly AI\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Effortlessly Summarize\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"fileInput\",className:\"file-input\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fileInput\",children:\"Choose File\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleUpload,disabled:!selectedFile,children:\"Upload File\"})]}),selectedFile&&/*#__PURE__*/_jsxs(\"p\",{className:\"filename\",children:[\"Selected File: \",selectedFile.name]}),loading&&/*#__PURE__*/_jsx(\"div\",{ref:progressRef,className:\"loading-bar\"})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","axios","ProgressBar","jsx","_jsx","jsxs","_jsxs","App","selectedFile","setSelectedFile","loading","setLoading","progressRef","handleFileChange","event","target","files","handleUpload","alert","formData","FormData","append","progress","current","color","strokeWidth","trailWidth","easing","duration","text","autoStyleContainer","from","width","to","step","state","circle","path","setAttribute","value","Math","round","setText","response","post","onUploadProgress","progressEvent","uploadProgress","loaded","total","animate","window","location","href","concat","data","summary","error","console","className","children","type","id","onChange","htmlFor","onClick","disabled","name","ref"],"sources":["C:/Users/momos/Desktop/BrieflyAI/brieflyfront/src/App.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport ProgressBar from 'progressbar.js'; // Assuming you have progressbar.js installed\n\nfunction App() {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const progressRef = useRef(null); // Reference for the progress bar element\n\n  const handleFileChange = (event) => {\n    setSelectedFile(event.target.files[0]);\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      alert('Please select a file first.');\n      return;\n    }\n\n    setLoading(true);\n\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n\n    try {\n      const progress = new ProgressBar(progressRef.current, {\n        // Progress bar configuration options (adjust as needed)\n        color: '#aaa',\n        strokeWidth: 4,\n        trailWidth: 1,\n        easing: 'easeInOut',\n        duration: 1400,\n        text: {\n          autoStyleContainer: false,\n        },\n        from: { color: '#aaa', width: 1 },\n        to: { color: '#333', width: 4 },\n        step: function (state, circle) {\n          circle.path.setAttribute('stroke', state.color);\n          circle.path.setAttribute('stroke-width', state.width);\n\n          const value = Math.round(circle.value() * 100);\n          if (value === 0) {\n            circle.setText('');\n          } else {\n            circle.setText(value);\n          }\n        },\n      });\n\n      const response = await axios.post('http://localhost:5000/upload', formData, {\n        onUploadProgress: (progressEvent) => {\n          const uploadProgress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n          progress.animate(uploadProgress / 100); // Update progress bar based on upload progress\n        },\n      });\n\n      setLoading(false);\n      progress.animate(1.0); // Animate to 100% on successful upload\n      // Redirect to summary page with the summary data\n      window.location.href = `/summary?summary=${response.data.summary}`;\n    } catch (error) {\n      console.error('Error:', error);\n      setLoading(false);\n      alert('File upload failed!');\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Briefly AI</h1>\n        <p>Effortlessly Summarize</p>\n      </header>\n      <div className=\"button-container\">\n        <input\n          type=\"file\"\n          id=\"fileInput\"\n          className=\"file-input\"\n          onChange={handleFileChange}\n        />\n        <label htmlFor=\"fileInput\">Choose File</label>\n        <button className=\"button\" onClick={handleUpload} disabled={!selectedFile}>\n          Upload File\n        </button>\n      </div>\n      {selectedFile && (\n        <p className=\"filename\">Selected File: {selectedFile.name}</p>\n      )}\n      {loading && (\n        <div ref={progressRef} className=\"loading-bar\"></div>\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}